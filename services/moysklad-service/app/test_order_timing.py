#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ —Å 80 –¥–Ω—è–º–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤
"""

from order_calculator import calculate_order_timing, print_order_analysis

def test_80_days_scenario():
    """–¢–µ—Å—Ç–∏—Ä—É–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–π —Å 80 –¥–Ω—è–º–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤"""
    
    print("üßÆ –¢–ï–°–¢: –õ–∏–Ω–∑—ã —Å –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –Ω–∞ 80 –¥–Ω–µ–π")
    print("–ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞—à–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏")
    print()
    
    # –í–∞—à –ø—Ä–∏–º–µ—Ä: –ª–∏–Ω–∑—ã —Å –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –Ω–∞ 80 –¥–Ω–µ–π
    # –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º –¥–Ω–µ–≤–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ 100 –µ–¥.
    daily_consumption = 100
    current_stock = 80 * daily_consumption  # 8000 –µ–¥.
    
    print("üìä –ò–°–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï:")
    print(f"  –û—Å—Ç–∞—Ç–∫–æ–≤: {current_stock} –µ–¥.")
    print(f"  –î–Ω–µ–≤–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: {daily_consumption} –µ–¥.")
    print(f"  –û—Å—Ç–∞—Ç–∫–æ–≤ —Ö–≤–∞—Ç–∏—Ç –Ω–∞: 80 –¥–Ω–µ–π")
    print()
    
    # –¢–µ—Å—Ç 1: –û—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞ –ª–∏–Ω–∑
    print("üîç –¢–ï–°–¢ 1: –û—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞ –ª–∏–Ω–∑")
    result1 = calculate_order_timing('30001', current_stock, daily_consumption, combined_delivery=False)
    print_order_analysis(result1)
    print()
    
    # –¢–µ—Å—Ç 2: –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞ —Å —Ä–∞—Å—Ç–≤–æ—Ä–∞–º–∏
    print("üîç –¢–ï–°–¢ 2: –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞ —Å —Ä–∞—Å—Ç–≤–æ—Ä–∞–º–∏")
    result2 = calculate_order_timing('30001', current_stock, daily_consumption, combined_delivery=True)
    print_order_analysis(result2)
    print()
    
    # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    print("üìà –°–†–ê–í–ù–ï–ù–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–û–í:")
    print(f"  –û—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞: –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ {result1['days_until_order']} –¥–Ω–µ–π")
    print(f"  –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞: –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ {result2['days_until_order']} –¥–Ω–µ–π")
    print(f"  –†–∞–∑–Ω–∏—Ü–∞: {result2['days_until_order'] - result1['days_until_order']} –¥–Ω–µ–π")
    print()
    
    if result1['days_until_order'] != result2['days_until_order']:
        print("‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!")
        print("   –ü—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–π –ø–æ—Å—Ç–∞–≤–∫–µ –∑–∞–∫–∞–∑ –¥–µ–ª–∞–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ")
        print("   –∏–∑-–∑–∞ –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å—Ä–æ–∫–∞ –ø–æ—Å—Ç–∞–≤–∫–∏ (82 –¥–Ω—è vs 57 –¥–Ω–µ–π)")
    else:
        print("‚ùå –õ–æ–≥–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏")

if __name__ == "__main__":
    test_80_days_scenario() 